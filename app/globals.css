@import "tailwindcss";

@layer base {
  * {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }

  body {
    margin: 0;
    overflow: hidden;
    min-height: 100vh;
    background-color: #0A0A0A;
    color: #171717;
    -webkit-font-smoothing: antialiased;
  }
}

@supports (min-height: 100dvh) {
  @layer base {
    body {
      min-height: 100dvh;
    }
  }
}

:root {
  --desktop-loop: 2.4s;
}

/* Progressive dots animation: 1, 2, 3, repeat */
@keyframes dot1 {
  0%, 50% {
    opacity: 1;
  }
  50.01%, 100% {
    opacity: 0;
  }
}

@keyframes dot2 {
  0%, 16.66% {
    opacity: 0;
  }
  16.67%, 50% {
    opacity: 1;
  }
  50.01%, 100% {
    opacity: 0;
  }
}

@keyframes dot3 {
  0%, 33.33% {
    opacity: 0;
  }
  33.34%, 50% {
    opacity: 1;
  }
  50.01%, 100% {
    opacity: 0;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Phone doodle keyframes (loading/enter states) */
@keyframes phone-tilt {
  0%,
  50%,
  100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-90deg);
  }
  75% {
    transform: rotate(90deg);
  }
}

@keyframes phone-shape-motion {
  0%,
  100% {
    transform: scale(1);
  }
  25% {
    transform: scale(2.365);
  }
  50% {
    transform: scale(1);
  }
  75% {
    transform: scale(0.487);
  }
}

.phone-animate .phone-outline {
  animation: phone-tilt 7s ease-in-out infinite;
  transform-origin: 49.7566% 43.2116%;
  transform-box: view-box;
}

.phone-animate .phone-shapes {
  animation: phone-shape-motion 7s ease-in-out infinite;
  transform-origin: 49.7566% 43.2116%;
  transform-box: view-box;
}

/* Dial keyframes (other side) */
@keyframes dial-ring-rotate {
  0% {
    transform: rotate(0deg);
  }
  60% {
    transform: rotate(-120deg); /* CCW */
  }
  78% {
    transform: rotate(-120deg); /* hold at B */
  }
  78.001% {
    transform: rotate(0deg); /* snap back */
  }
  100% {
    transform: rotate(0deg);
  }
}

.dial-animate .dial-ring {
  animation: dial-ring-rotate 2s ease-out infinite;
  transform-origin: 50% 50%;
  transform-box: view-box;
}

/* Desktop scroll doodle */
@keyframes desktop-tilt {
  0%,
  100% {
    transform: rotate(2deg);
  }
  50% {
    transform: rotate(-2deg);
  }
}

@keyframes two-finger-scroll {
  0% {
    transform: translateY(-12px); /* dots up */
    opacity: 1;
  }
  100% {
    transform: translateY(12px); /* dots down */
    opacity: 1;
  }
}

@keyframes desktop-cube-sync {
  0% {
    transform: scale(0.487); /* small when dots up */
  }
  100% {
    transform: scale(2.365); /* large when dots down */
  }
}

.desktop-animate .desktop-outline {
  animation: none;
  transform-origin: 50% 50%;
  transform-box: view-box;
}

.desktop-animate .desktop-shapes {
  animation-name: desktop-cube-sync;
  animation-duration: var(--desktop-loop);
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  animation-fill-mode: both;
  transform-origin: 50% 50%;
  transform-box: fill-box;
}

.desktop-animate .scroll-dot {
  animation-name: two-finger-scroll;
  animation-duration: var(--desktop-loop);
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  animation-fill-mode: both;
  transform-origin: 50% 50%;
  transform-box: fill-box;
}
